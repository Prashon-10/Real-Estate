@startuml Property_Inquiry_Activity_Diagram

!theme plain
skinparam backgroundColor white
skinparam activityFontSize 12
skinparam activityBorderThickness 2
skinparam activityBorderColor #333333
skinparam activityBackgroundColor #f8f9fa
skinparam diamondFontSize 11
skinparam diamondBorderThickness 2
skinparam diamondBorderColor #007bff
skinparam diamondBackgroundColor #e3f2fd
skinparam arrowThickness 2
skinparam arrowColor #333333
skinparam startEndColor #28a745
skinparam startEndFontColor white

title Activity Diagram - User Property Inquiry Process

start

:User visits property page;

:Frontend fetches property details;

:Display property to user;

if (Is property available?) then (yes)
  :User views property details;
  
  if (User is authenticated?) then (yes)
    if (User wants to add to favorites?) then (yes)
      :Add property to favorites;
      :Update user preferences;
    else (no)
    endif
    
    if (User wants to send inquiry?) then (yes)
      :User fills inquiry form;
      :Frontend validates form data;
      
      if (Form data valid?) then (yes)
        :Create PropertyMessage in DB;
        :Update property inquiry count;
        :Send notification to agent;
        :Return success confirmation;
        :Show success message to user;
      else (no)
        :Show validation error;
        stop
      endif
    else (no)
      :User continues browsing;
    endif
  else (no)
    :Redirect to login page;
    :User authenticates;
    :Return to property page;
  endif
else (no)
  :Show "Property not available" message;
endif

if (User wants to view similar properties?) then (yes)
  :Fetch similar properties;
  :Display recommendations;
else (no)
endif

:User session continues;

stop

@enduml
