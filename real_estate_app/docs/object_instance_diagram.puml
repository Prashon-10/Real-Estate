@startuml Object_Instance_Diagram

title Real Estate Application - Object Instance Diagram

object "user1:User" as user1 {
    id = 1
    username = "john_agent"
    email = "john@realestate.com"
    first_name = "John"
    last_name = "Doe"
    user_type = "agent"
    profile_image = "/media/profiles/john.jpg"
    unique_key = "ABC123XYZ"
    phone_number = "+1234567890"
    bio = "Experienced real estate agent"
}

object "user2:User" as user2 {
    id = 2
    username = "jane_customer"
    email = "jane@example.com"
    first_name = "Jane"
    last_name = "Smith"
    user_type = "customer"
    profile_image = "/media/profiles/jane.jpg"
    unique_key = "DEF456ABC"
    phone_number = "+0987654321"
    bio = ""
}

object "property1:Property" as property1 {
    id = 1
    title = "Modern Downtown Apartment"
    address = "123 Main St, Downtown"
    price = 450000.00
    bedrooms = 2
    bathrooms = 2.0
    square_footage = 1200
    description = "Beautiful modern apartment..."
    status = "available"
    agent_id = 1
    created_at = "2025-01-15 10:30:00"
    updated_at = "2025-01-20 14:15:00"
}

object "property2:Property" as property2 {
    id = 2
    title = "Suburban Family Home"
    address = "456 Oak Street, Suburbs"
    price = 650000.00
    bedrooms = 4
    bathrooms = 3.0
    square_footage = 2400
    description = "Perfect family home with yard..."
    status = "available"
    agent_id = 1
    created_at = "2025-01-18 09:45:00"
    updated_at = "2025-01-18 09:45:00"
}

object "image1:PropertyImage" as image1 {
    id = 1
    property_id = 1
    image = "/media/properties/apt1_main.jpg"
    order = 0
}

object "image2:PropertyImage" as image2 {
    id = 2
    property_id = 1
    image = "/media/properties/apt1_kitchen.jpg"
    order = 1
}

object "image3:PropertyImage" as image3 {
    id = 3
    property_id = 2
    image = "/media/properties/house1_front.jpg"
    order = 0
}

object "favorite1:Favorite" as favorite1 {
    id = 1
    user_id = 2
    property_id = 1
    added_at = "2025-01-18 09:15:00"
}

object "favorite2:Favorite" as favorite2 {
    id = 2
    user_id = 2
    property_id = 2
    added_at = "2025-01-20 11:30:00"
}

object "search1:SearchHistory" as search1 {
    id = 1
    user_id = 2
    query = "downtown apartment 2 bedroom"
    property_id = 1
    timestamp = "2025-01-18 14:30:00"
}

object "search2:SearchHistory" as search2 {
    id = 2
    user_id = 2
    query = "family home with yard"
    property_id = 2
    timestamp = "2025-01-20 16:20:00"
}

object "recommendation1:Recommendation" as recommendation1 {
    id = 1
    user_id = 2
    property_id = 1
    score = 0.85
    created_at = "2025-01-18 15:00:00"
}

object "message1:PropertyMessage" as message1 {
    id = 1
    property_id = 1
    sender_id = 2
    content = "Is this property still available?"
    timestamp = "2025-01-20 16:45:00"
    read = false
}

object "message2:PropertyMessage" as message2 {
    id = 2
    property_id = 1
    sender_id = 1
    content = "Yes, it's available. Would you like to schedule a viewing?"
    timestamp = "2025-01-20 17:15:00"
    read = false
}

' Relationships with labels
user1 ||--o{ property1 : agent
user1 ||--o{ property2 : agent

property1 ||--o{ image1 : images
property1 ||--o{ image2 : images
property2 ||--o{ image3 : images

user2 ||--o{ favorite1 : user
property1 ||--o{ favorite1 : property

user2 ||--o{ favorite2 : user
property2 ||--o{ favorite2 : property

user2 ||--o{ search1 : user
property1 ||--o{ search1 : property

user2 ||--o{ search2 : user
property2 ||--o{ search2 : property

user2 ||--o{ recommendation1 : user
property1 ||--o{ recommendation1 : property

user2 ||--o{ message1 : sender
property1 ||--o{ message1 : property

user1 ||--o{ message2 : sender
property1 ||--o{ message2 : property

@enduml
